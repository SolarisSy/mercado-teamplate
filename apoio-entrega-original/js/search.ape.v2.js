var Search={_slug:function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",a=0,i=t.length;a<i;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},openNavCategory:function(){const e=codeFunctionsStore.deviceResolutions().desktop,t=window.matchMedia(`(min-width:${e}px)`).matches?"desktop":"mobile",a=setInterval((function(){if("undefined"==typeof vtxctx||void 0===vtxctx.categoryId)return;clearInterval(a);const e=Search._slug(void 0!==vtxctx.departmentName?vtxctx.departmentName:""),i=Search._slug(void 0!==vtxctx.categoryName?vtxctx.categoryName:""),l=$('.cat-title a[href*="'+e+'"]');$('ul[itemscope] ul li:not(:last-child) a[href$="/'+i+'"]').closest("li").addClass("active"),l.closest(".categories-list > ul > li").addClass("changed").find(".cat-title, > ul").addClass("active"),"desktop"===t&&Header.desktopCategoryNavigationActions().open()}),300)},toggleFiltersDropDown:function(){const e=$(".result-options__label");e.on("click",(function(){e.not(this).removeClass("active"),$(this).toggleClass("active")}))},subCategoryActived:function(){const e=$(".bread-crumb ul li a");void 0!==e[2]&&setTimeout((()=>{const t=e[2].text;$('.categories-list ul li.changed ul.active li:contains("'+t+'")').addClass("active")}),500)},barlarteral:function(){$(".menu-departamento").append('<div class="search-single-navigator2"></div>'),$("#departament-page").addClass("menu-closed")},brandsDropDown:function(){const e=$(".search-single-navigator").find("ul.Marca li");if(Search.subCategoryActived(),!(e.length<2)||e.first().find("a").length)if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const t=$(".result-options-dropdown--brand");e.addClass("result-options-dropdown__item").find("a").addClass("result-options-dropdown__link"),t.append(e).parent().addClass("ready")}else{$(".search-single-navigator2").append('<div id="brandsSide" class="showValues"><div class="brandsSideTopo"></div><div class="brandsSideConteudo"></div></div>'),$(".brandsSideConteudo").append('<ul class="brandsSideUl"></ul>');const t=$(".brandsSideUl");$(".brandsSideTopo").append('<h5 class="Hide HideMarca" wz_dt_ref="true">Marcas</h5>'),t.append(e).parent().addClass("ready")}},filtersDropDown:function(){const e=$(".search-single-navigator");let t;const a=$(".bread-crumb ul li").last().text().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replaceAll(" ","-");if(t=e.find("ul."+a+" li"),t.first().find("a").length||(t=e.find("ul li a").wrap($("<li></li>")).parent()),Search.subCategoryActived(),!(t.length<2&&t.first().find("a").length<3))if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const e=$(".result-options-dropdown--filter");t.addClass("result-options-dropdown__item").find("a").addClass("result-options-dropdown__link"),e.append(t).parent().addClass("ready")}else{$(".search-single-navigator2").append('<div id ="filtersSide"><div class="filtersSideTopo"></div><div class="filtersSideConteudo"></div></div>'),$(".filtersSideConteudo").append('<ul class="filtersSideUl"></ul>');const e=$(".filtersSideUl");$(".filtersSideTopo").append('<h5 class="Hide HideMarca" wz_dt_ref="true">Filtros</h5>'),e.append(t).parent().addClass("ready")}},configFilterBrands:function(){$("#brandsSide").length<=0?($(".filtersSideUl").show(),$("#filtersSide").addClass("showValues")):($(".filtersSideUl").hide(),$("#filtersSide").removeClass("showValues")),$("#filtersSide").length<=0&&$("#brandsSide").length<=0&&$(".search-single-navigator2").hide(),$(".brandsSideTopo").click((function(){$("#brandsSide").hasClass("showValues")?($(".brandsSideUl").hide(),$("#brandsSide").removeClass("showValues")):($(".brandsSideUl").show(),$("#brandsSide").addClass("showValues"))})),$(".filtersSideTopo").click((function(){$("#filtersSide").hasClass("showValues")?($(".filtersSideUl").hide(),$("#filtersSide").removeClass("showValues")):($(".filtersSideUl").show(),$("#filtersSide").addClass("showValues"))}))},orderByDropDown:function(){const e=$("#O"),t=$(".result-options-dropdown--orderby");e.find("option").not(":first").each((function(){const e=$(this),a=$('<li class="result-options-dropdown__item" />'),i=$('<a href="#0" class="result-options-dropdown__link" />');i.attr("id",e.val()).html(e.text()),a.append(i),t.append(a)})),t.find(".result-options-dropdown__link").on("click",(function(a){a.preventDefault(),t.find("a").not(this).removeClass("active");const i=$(this);e.find("option").filter('[value="'+i.attr("id")+'"]').prop("selected",!0),e.trigger("change")}));const a=window.location.search.match(/O\=([a-z-A-Z]+)/i);a&&a.length&&t.find("a").filter('[id="'+a[1]+'"]').addClass("active")},toggleFilterMobile:function(){const e=$(".ape-search-top__filter"),t=$(".result-options");e.on("click",(function(){$this=$(this),$this.toggleClass("active"),t.toggleClass("active")}))},loadMore:function(){const e=$("button.ape-search-result__load-more"),t=$("[id*=ResultItems].prateleira");t.length&&(t.QD_infinityScroll({elemLoading:"",callback:function(){Shelf.resolveInputs(),Shelf.initShelves(),Shelf.defineMaxQuantity();const e=document.querySelectorAll(".product-summary:not(.ready)"),t=[];Shelf.wholeSaleQuantityShelf(e);for(let a=0;a<e.length;a++)t.push({id:$(e[a]).attr("data-sku-id"),quantity:1,seller:1}),Shelf.handleProductSpecifications(e[a]),Shelf.applyBoxUnits(e[a]),Shelf.applyFlagCashBack(e[a]),Shelf.applyPercentageDiscount(e[a]);Shelf._simulatePrice(t,jssalesChannel).then((({items:t})=>{for(let a=0;a<e.length;a++)Shelf.applyPresihablePrices(e[a],t[a])}))},paginate:function(t){_QuatroDigital_InfinityScroll.pages>1&&e.addClass("active"),e.on("click",(function(){e.addClass("loading"),t()}))}}),$(window).on("QuatroDigital.is_Callback",(function(){_QuatroDigital_InfinityScroll.currentPage-1===_QuatroDigital_InfinityScroll.pages&&e.removeClass("active"),Shelf.toggleLayoutView(),e.removeClass("loading")})))},resizeMobileBreadcrumb:function(){const e=$(".bread-crumb"),t=$(".ape-breadcrumb"),a=$(".ape-search-top");if(!(e.find("ul li").length<=1))for(;Math.floor(e.width())==Math.floor(t.width())||screen.width<Math.floor(a.width());)e.find("ul li")[1].remove(),e.find("ul li a")[1].textContent=e.find("ul li a")[1].textContent.replace(/[a-zA-Z\u00C0-\u00FF ]/i,"...")}};$(document).ready((function(){Search.resizeMobileBreadcrumb(),Search.toggleFiltersDropDown(),Search.barlarteral(),Search.brandsDropDown(),Search.filtersDropDown(),Search.orderByDropDown(),Search.toggleFilterMobile(),Search.loadMore(),Shelf.toggleLayoutView(),Search.configFilterBrands()}));