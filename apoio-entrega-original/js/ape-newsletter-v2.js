var Newsletter={init:function(){Newsletter.submitNewsletterForm(),Newsletter.privacyModal()},_validateEmail:e=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),windowOnLoad:function(){},privacyModal:function(){var e=document.getElementById("privacyModalContent"),t=document.getElementById("labelPrivacySpan"),a=document.getElementsByClassName("privacy_close")[0];t.onclick=function(){e.style.display="block"},a.onclick=function(){e.style.display="none "},window.onclick=function(t){t.target==e&&(e.style.display="none")}},submitNewsletterForm:function(){$("button#registerNewsletter").on("click",(function(){var e=$(".ape-newsletter input#newsLetterName"),t=$(".ape-newsletter input#newsLetterEmail"),a=$(".ape-newsletter input#privacyPolicies").is(":checked");if(""!=e.val()&&""!=t.val()&&a)if(Newsletter._validateEmail(t.val())){var o={};o.firstName=e.val(),o.email=t.val(),o.isNewsletterOptIn=!0;var n=new FormData;Object.entries(o).forEach((function(e){var t=e[0],a=e[1];n.append(t,a)})),fetch("https://cloud.news.apoioentrega.com/integracao",{method:"POST",body:n}).then((e=>e.json())).then((a=>{200===a.statusCode&&(Minicart.showAlert("Cadastro realizado com sucesso!\nÉ muito bom ter você conosco.\n Continue sua compra e aproveite as ofertas e promoções."),e.val(""),t.val("")),400===a.statusCode?Minicart.showAlert("Este e-mail já foi cadastrado!"):(console.log("Erro ao cadastrar newsletter"),Minicart.showAlert("Erro ao tentar se cadastrar na newsletter"))}))}else Minicart.showAlert("Adicione um email válido","Erro ao cadastrar na newsletter");else Minicart.showAlert("Todos os campos são orbigatórios","Erro ao cadastrar na newsletter")}))}};$((function(){Newsletter.init()})),$(window).load((function(){Newsletter.windowOnLoad()}));