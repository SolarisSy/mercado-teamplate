"use strict";var $=$,codeFunctionsStore={smartHintHandleClickFilterTitle:function(){const e=$(".smarthint-search-filter-item");$(".smarthint-search-filter-item:first-of-type").addClass("showValues"),e.off("click.openValues"),e.on("click.openValues",(function(){$(this).toggleClass("showValues")}))},smartHintToggleLayoutView:function(){$(".layout-view").show();const e=$("#smarthint-search-result");if(!e.length)return;const t=$(".layout-view__item");let o=e.find(".layout-view").attr("data-layout");t.length&&(codeFunctionsStore.smartHintRenderLayoutView(o),t.off("click.toggleLayout"),t.on("click.toggleLayout",(function(){let e=$(this),o=e.is(".layout-view__item--list")?"list":"grid";t.not(this).removeClass("active"),e.addClass("active"),codeFunctionsStore.smartHintRenderLayoutView(o)})))},smartHintRenderLayoutView:function(e){const t=$("#smarthint-search-result");if(!t.length)return;const o=[".prateleira",".product-summary",".product-box-price"];for(let a=0;a<=o.length;a++){let n=o[a];if(!$(n).length)return;"list"===e?t.find(n).addClass(n.substr(1)+"--list"):t.find(n).removeClass(n.substr(1)+"--list"),t.find(".layout-view").attr("data-layout",e)}},smartHintHandleSort:function(){let e=$(".ape-smarthint-sort-list li"),t=localStorage.getItem("seletedSmartHintSort"),o=localStorage.getItem("seletedSmartHintSortName"),a=$("#smarthint-search-sort span");t&&$(`.ape-smarthint-sort-list li[value="${t}"]`).addClass("selected"),o&&(a.text(o),a.addClass("sortedActive")),$(".ape-smarthint-sort").click((function(){$(this).removeClass("active")})),$("#smarthint-search-sort").click((function(){$(".ape-smarthint-sort").addClass("active")})),e.off("click.selectSort"),e.on("click.selectSort",(function(){let t=$(this).find("div").text();e.removeClass("selected"),SmartHint.Search.ChangeSort(this),$(this).addClass("selected"),localStorage.setItem("seletedSmartHintSort",$(this).val()),localStorage.setItem("seletedSmartHintSortName",t),$(".ape-smarthint-sort").hide(),a.addClass("sortedActive"),a.text(t)}))},menuMobileSlick:function(){var e=$(".mz-amazing-menu-mobile ul[itemscope]");e.length&&($(".am-next").click((function(){var t=e.scrollLeft();null!==t&&e.animate({scrollLeft:t+200},300)})),$(".am-prev").click((function(){var t=e.scrollLeft();null!==t&&e.animate({scrollLeft:t-200},300)})),e.on("scroll",(function(){var t=e.scrollLeft(),o=e.outerWidth(),a=e.get(0).scrollWidth,n=$(".am-next"),i=$(".am-prev");n.length&&i.length&&(a-t==o?(n.addClass("disabled"),i.addClass("disabled")):(n.removeClass("disabled"),i.removeClass("disabled")))})))},watchURLPathChange:function(){window.addEventListener("popstate",(function(){codeFunctionsStore.checkURLLastSegment()}))},checkDataMyAccount:async function(){let e=parseInt(localStorage.getItem("cookieCheckoutControl")),t=new Date;if(e&&e-t.getTime()<0)return!1;try{const e=await Utils.checkUserLogin();if(e)return Utils.cpfVerificationMyAccount(e),Utils.phoneNumberVerificationMyAccount(e),Utils.allocatePriceTable(e),(document.body.id.match(/atacado-apoio/)||document.body.id.match(/clube-apoio/))&&Utils.checkUserDocumentOnMasterData(e),e}catch(e){console.log(e.message)}},checkURLLastSegment:function(){let e=window.location.href.split("/");var t=e.pop()||e.pop();if("account#"==t)$("a.arrow-back").show(),$("section.myaccount-section-top .title").css("padding-right","35px");else if($("a.arrow-back").hide(),$("section.myaccount-section-top .title").css("padding-right","0px"),"edit"==t||"new"==t||e.length>=7){codeFunctionsStore.checkDataMyAccount();var o=setInterval((function(){$(".vtex-pageHeader-link__container").length?($(".vtex-pageHeader-link__container").show(),clearInterval(o)):$(".vtex-pageHeader-link__container").hide()}),100)}},redirectToHome:function(){$(".vtex-account__user-image").click((function(){window.location.href="/"}))},forceSalesChannelUpdate:async function(){await codeFunctionsStore.updateOrderFormSalesChannel(),await codeFunctionsStore.setSalesChannelAfterLogin()},updateOrderFormSalesChannel:async function(){if(window.location.search.indexOf("sc=")>0){let e;e=window.location.search.split("?sc="),e=parseInt(e[1]);const t=5267;vtexjs.checkout.addToCart([{id:t,quantity:1,seller:1}],null,e).done((function(e){vtexjs.checkout.getOrderForm().then((function(){let e=[{index:$(`li.minicart-item[data-sku="${t}"]`).attr("data-index"),quantity:0}];return vtexjs.checkout.removeItems(e).done((function(e){}))}))}))}},setSalesChannelAfterLogin:async function(){let e=localStorage.getItem("sc");if("click-delivery"===localStorage.getItem("itemSelecionado")&&null!=e&&jssalesChannel!=e)return codeFunctionsStore.insertParam("sc",e)},insertParam:function(e,t){e=escape(e),t=escape(t);var o=document.location.search.substr(1).split("&");if(""==o)document.location.search="?"+e+"="+t;else{for(var a,n=o.length;n--;)if((a=o[n].split("="))[0]==e){a[1]=t,o[n]=a.join("=");break}n<0&&(o[o.length]=[e,t].join("=")),document.location.search=o.join("&")}},keepUsersCart:async function(){const{items:e}=await vtexjs.checkout.getOrderForm(),t=localStorage.getItem("reset"),o=[];if(e.length>0&&(e.map((e=>{o.push({id:e.id,quantity:e.quantity,seller:"1"})})),localStorage.setItem("currentItemsCart",JSON.stringify(o))),t){const e=localStorage.getItem("currentItemsCart");if(!e)return;const t=JSON.parse(e),o=jssalesChannel;vtexjs.checkout.addToCart(t,null,o).done((function(e){console.log("items restored")}))}},cookieCacheSessionReset:async function(){await codeFunctionsStore.keepUsersCart();let e=window.location.href,t=(new Date).getTime(),o=864e5,a=parseInt(localStorage.getItem("cookieCheckoutControl")||t+2*o);if(a>t)return localStorage.getItem("reset")&&localStorage.removeItem("reset"),void localStorage.setItem("cookieCheckoutControl",a);$(document).ajaxStop((function(){window.history.replaceState({},document.title,window.location.href.replace(/[\?|&]sc=\w/g,"")),document.cookie="checkout.vtex.com=; domain=.www.apoioentrega.com; expires=Thu, 18 Dec 2019 12:00:00 UTC; path=/",document.cookie="VTEXSC=; domain=.www.apoioentrega.com; expires=Thu, 18 Dec 2019 12:00:00 UTC; path=/",localStorage.getItem("delivery")&&localStorage.removeItem("delivery"),localStorage.getItem("sc")&&localStorage.removeItem("sc"),localStorage.getItem("formatedAddress")&&localStorage.removeItem("formatedAddress"),localStorage.getItem("itemSelecionado")&&localStorage.removeItem("itemSelecionado"),localStorage.getItem("unlockMinicart")&&localStorage.removeItem("unlockMinicart"),localStorage.getItem("pickUpId")&&localStorage.removeItem("pickUpId"),localStorage.getItem("activeDeliveryChannel")&&localStorage.removeItem("activeDeliveryChannel"),localStorage.getItem("aditionalShippingData")&&localStorage.removeItem("aditionalShippingData"),sessionStorage.clear();for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=n[i],s=r.indexOf("="),c=s>-1?r.substr(0,s):r;document.cookie=c+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}localStorage.setItem("reset",!0),t=(new Date).getTime(),a=parseInt(t+2*o),localStorage.setItem("cookieCheckoutControl",a),window.top.location.href=e,console.log("redirecting to current url"),console.log("cookies were removed"),localStorage.setItem("reset",!0)}))},removeItemsFromCart:function(){return vtexjs.checkout.removeAllItems(["items"]).done((()=>{var e=$(".product-summary"),t=e.find(".product-box-price__left"),o=e.find(".product-box-price__right"),a=e.find(".wrapper-buy-button-asynchronous"),n=e.find(".product-summary__added");t.removeClass("active"),o.removeClass("active"),a.removeClass("added"),n.removeClass("added"),e.find(".product-summary__buy").removeClass("disabled"),$("#productsMinicart").remove(),$(".cart__body--display-minicart-items").find(".quantity strong").text(0)}))},loggoutUser:function(){return $.ajax({type:"GET",method:"GET",url:"https://www.apoioentrega.com/no-cache/user/logout"}).done((function(){vtexjs.checkout.getOrderForm().done((function(e){console.log("orderForm reset 48h:")}))}))},deviceResolutions:()=>({mobile:320,tablet:767,desktop:992}),cookieConsentPopup:function(){if(void 0!==Cookies.get("cookieconsent_status"))return;const e=$("#consent-popup");let t=new Date;e.removeClass("pop-hidden"),$("#consent-btn").on("click",(function(){t.setMonth(t.getMonth()+12),document.cookie="cookieconsent_status=ok; expires="+t,e.addClass("pop-hidden")}))},limitadorCepCadastroEndereco:function(){$(".vtex-address-form__postalCode .vtex-address-form-3-x-input").attr("maxlength","9"),$(".vtex-address-form__postalCode .vtex-address-form-3-x-input").mask("99999-999")},init:function(){codeFunctionsStore.menuMobileSlick(),codeFunctionsStore.watchURLPathChange(),codeFunctionsStore.redirectToHome(),codeFunctionsStore.limitadorCepCadastroEndereco()}};$((function(){codeFunctionsStore.init()})),$(window).load((function(){codeFunctionsStore.cookieCacheSessionReset(),codeFunctionsStore.forceSalesChannelUpdate(),codeFunctionsStore.redirectToHome(),codeFunctionsStore.checkURLLastSegment(),codeFunctionsStore.smartHintHandleClickFilterTitle(),codeFunctionsStore.smartHintHandleSort(),codeFunctionsStore.smartHintToggleLayoutView()})),$(document).ajaxStop((function(){codeFunctionsStore.smartHintHandleClickFilterTitle(),codeFunctionsStore.smartHintHandleSort(),codeFunctionsStore.smartHintToggleLayoutView()}));var searchBrand={html:'<div class="form-search search-secondary" data-ref="1" style="position: relative;margin: 0 0 15px;"><form action="?" method="post"><div class="form__controls"><input style="height: 40px;width: 100%;background: #fff;font-size: 14px;border: 1px solid #d5dcdf;padding: 0 36px 0 11px;border-radius: 0;" type="text" class="form__field search-field" name="q" id="q-search" value="" placeholder="FaÃ§a uma busca..."></div><button type="submit" value="Submit" class="form__btn search-btn" style="position: absolute;top: 0;bottom: 0;right: 0;background-color: transparent;border: 0;width: 41px;"><i class="ico-search"></i></button></form></div><div class="empty-results" style="display:none;"><p>Sem resultados</p></div>',selector:".menu-departamento .search-single-navigator ul",init:function(){if($("body").hasClass("categoria")){var e=this;e.putHtmlOnPage(e.html,(function(){e.listenerOfKeyUpAndSubmit()}))}},putHtmlOnPage:function(e,t){$(this.selector).each((function(){"1"!=$(this).find(".search-secondary").attr("data-ref")&&$(this).prepend(e)})),t()},listenerOfKeyUpAndSubmit:function(){var e=this;$("#q-search").on("keyup",(function(t){t.preventDefault(),e.search($(this),$(this).val())})),$(".search-secondary form").on("submit",(function(t){t.preventDefault(),e.search($(this),$(this).find("input").val())}))},search:function(e,t){console.log("busca",t);var o=0;console.log("com underline >>>>>>>>",e.parent().parent().attr("class")),e.parent().parent().find("li").each((function(){-1==$(this).find("a").text().toLowerCase().indexOf(t.toLowerCase().toString())?$(this).hide():($(this).show(),o++)})),0==o?setTimeout((function(){$(".empty-results").fadeIn(300)}),300):$(".empty-results").hide()}};$(window).load((function(){searchBrand.init()}));let lastScrollTop=0;$(window).scroll((function(){let e=window.pageYOffset;e>lastScrollTop?e>70&&($(document.body).addClass("header-mobile-fixed"),$("header.header").addClass("scroll-down-mobile"),$(".mz-amazing-menu-mobile").removeClass("am-scroll-up-mobile")):($(document.body).removeClass("header-mobile-fixed"),$(document.body).addClass("scroll-up-mobile"),$("header.header").removeClass("scroll-down-mobile").addClass("header-scroll-up-mobile"),$(".mz-amazing-menu-mobile").addClass("am-scroll-up-mobile"),e<5&&($(document.body).removeClass("scroll-up-mobile"),$("header.header").removeClass("header-scroll-up-mobile"),$(".mz-amazing-menu-mobile").removeClass("am-scroll-up-mobile"))),lastScrollTop=e<=0?0:e})),$(".btn-buscar").val("");